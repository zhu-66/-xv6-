代码仓库：https://github.com/zhu-66/-xv6-
0.	环境搭建
1.	下载VMware虚拟机，并且下载 Ubuntu 镜像并安装 Ubuntu 系统。
2.	启动Ubuntu，安装本项目所需的所有软件，运行：
$ sudo apt-get update && sudo apt-get upgrade
$ sudo apt-get install git build-essential gdb-multiarch qemu-system-misc gcc-riscv64-linux-gnu binutils-riscv64-linux-gnu
3.	下载xv6内核源码
$ git clone git://github.com/mit-pdos/xv6-riscv.git
4.	更新镜像源
$ sudo nano /etc/apt/sources.list
$ sudo apt-get update
5.	获取源码
$ git clone git://g.csail.mit.edu/xv6-labs-2021
$ cd xv6-labs-2021
$ git checkout util

1. 实验目的 
1.	熟悉liunx中xv6操作环境。
2.	为xv6实现UNIX程序sleep，实现的sleep应当按用户指定的ticks数暂停，其中tick是xv6内核定义的时间概念，即定时器芯片两次中断之间的时间。解决方案应该在文件user/sleep.c中。
3.	掌握进程同步的概念，确保父进程和子进程在适当的时机进行通信。
4.	理解并掌握进程间通信的概念和机制。
5.	学习使用管道在父子进程之间进行数据传递。
6.	理解文件系统中目录和文件的基本概念和组织结构。
7.	熟悉在 xv6 操作系统中使用系统调用和文件系统接口进行文件查找操作。
8.	应用递归算法实现在目录树中查找特定文件。
9.	编写一个UNIX xargs程序的简单版本：从标准输入中读取行，并为每一行运行一个命令，将行作为参数提供给命令。解决方案位于文件user/xargs.c中。
10.	熟悉命令行参数的获取和处理：实验需要读取命令行参数并进行适当的处理，包括选项解析和参数拆分。
2. 实验内容
Boot xv6 (easy)
根据实验步骤，make qemu进入qemu环境：
 
 

sleep (easy)
测试结果：
 
 
pingpong (easy)
测试结果： 
primes (moderate)/(hard)
测试结果：
 

find (moderate)
测试结果：
 
xargs (moderate)
测试结果：
 
测试结果：
 

3. 实验中遇到的问题和解决方法
在find实验中，我参考了目录相关操作的程序的写法，但在参考的基础上编写find函数的过程中出现了不少问题：
在 find 函数的编写过程中，我参考了ls.c中的ls函数的写法，而ls.c主要用于列出指定路径下的文件和目录信息，因此其结果的输出格式与本实验需求不同，这个问题起初我并未注意到。
此外，ls.c的输入仅仅需要一个文件地址参数，而文件查找需要路径path和查找文件名name两个参数，如上述测试使用了find . b和find a b，都提供了两个参数，因此函数的输入也需要做出相应的修改
ls.c程序只能提供基本的文件和目录信息，并不包含递归遍历子目录的功能。因此如果我不对 find 函数进行递归遍历，它只能查找指定目录下的直接子文件和子目录，而无法继续向下递归地查找子目录中的文件，这也会导致我在测试时无法得到全面的查找结果。
4.实验心得
实验时，我们需要弄清楚需要编写的程序的功能，并且阅读该程序相关的依赖文件，理清参数传递和头文件依赖关系等，避免参数传递出错或缺少头文件等。
通过实验，我通过阅读相似功能的源代码，进一步掌握了在 xv6 操作系统中进行文件操作的技巧和方法，如打开文件、读取目录等。
实验过程中遇到了一些问题，例如理解文件系统的目录结构和文件的属性，以及如何正确处理文件路径等。但通过查阅文档和调试代码，我逐渐解决了这些问题，并提高了对文件系统的理解和应用能力。
错误处理：在编写实验代码时，我学会了处理错误情况并进行适当的错误报告。例如，当参数个数超过限制或无法执行外部命令时，我通过输出错误信息和退出程序来处理这些情况。
